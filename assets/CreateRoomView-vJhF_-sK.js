import{_ as l,h as m,c as p,b as u,d as s,i as C,t as f,j as w,u as _}from"./index-DSsJm8DN.js";import{R as h,u as b}from"./RoomForm-dToYryBQ.js";const g={class:"create-room-view"},R={__name:"CreateRoomView",setup(v){const n=_(),{saveEditCode:i}=b(),a=m({name:"a room",password:"",themeColor:"00ABAE",showCode:"bottom-left",penColors:[],penlightSprite:null,duplicateUsers:!0,duplicationThreshold:10,maxConcurrent:100});async function c(){try{const o=JSON.stringify(f(w(a))),e=await fetch("https://api.pen.lighting/rooms",{method:"POST",headers:{"Content-Type":"application/json"},body:o});if(!e.ok)throw new Error(`Create failed (${e.status})`);const t=await e.json(),r=t.code,d=t.editCode;i(r,d),await n.replace({name:"edit",params:{room_code:r}})}catch(o){console.log(o)}finally{}}return(o,e)=>(u(),p("div",g,[e[1]||(e[1]=s("div",{class:"page-title",align:"center"},"Create a Room!",-1)),C(h,{modelValue:a,"onUpdate:modelValue":e[0]||(e[0]=t=>a=t)},null,8,["modelValue"]),s("div",{class:"create-row"},[s("button",{class:"join-button big-button",onClick:c}," Create Room ")])]))}},E=l(R,[["__scopeId","data-v-eb6cd4bc"]]);export{E as default};
