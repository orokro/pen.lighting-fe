import{_ as p,i as m,c as u,b as C,d as s,j as f,t as w,k as h,h as _}from"./index-BtlqQoGs.js";import{R as y,u as b}from"./RoomForm-B1R3uZm8.js";const g={class:"create-room-view"},v={__name:"CreateRoomView",setup(R){const r=_(),{saveEditCode:l}=b(),a=m({name:"",password:"",themeColor:"00ABAE",showCode:"bottom-left",showCodeScale:1,maxConcurrent:100,penColors:[],allowAnyColor:!1,penlightSprite:null,penScale:1,penTrails:!0,penTrailsIntensity:.5,penTrailsDecay:.8,duplicateUsers:!1,duplicationThreshold:10}),i="https://api.pen.lighting";async function c(){try{const o=JSON.stringify(w(h(a))),e=await fetch(`${i}/rooms`,{method:"POST",headers:{"Content-Type":"application/json"},body:o});if(!e.ok)throw new Error(`Create failed (${e.status})`);const t=await e.json(),n=t.code,d=t.editCode;l(n,d),await r.replace({name:"edit",params:{room_code:n}})}catch(o){console.log(o)}finally{}}return(o,e)=>(C(),u("div",g,[e[1]||(e[1]=s("div",{class:"page-title",align:"center"},"Create a Room!",-1)),f(y,{modelValue:a,"onUpdate:modelValue":e[0]||(e[0]=t=>a=t)},null,8,["modelValue"]),s("div",{class:"create-row"},[s("button",{class:"join-button big-button",onClick:c}," Create Room ")])]))}},k=p(v,[["__scopeId","data-v-4382dc5c"]]);export{k as default};
