import{_ as m,i as p,c as u,b as f,d as s,j as C,t as w,k as _,h}from"./index-If-UVuQK.js";import{R as b,u as g}from"./RoomForm-BMhgnrsv.js";const v={class:"create-room-view"},R={__name:"CreateRoomView",setup(y){const n=h(),{saveEditCode:i}=g(),a=p({name:"",password:"",themeColor:"00ABAE",showCode:"bottom-left",penColors:[],penlightSprite:null,duplicateUsers:!1,duplicationThreshold:10,maxConcurrent:100}),c="https://api.pen.lighting";async function l(){try{const o=JSON.stringify(w(_(a))),e=await fetch(`${c}/rooms`,{method:"POST",headers:{"Content-Type":"application/json"},body:o});if(!e.ok)throw new Error(`Create failed (${e.status})`);const t=await e.json(),r=t.code,d=t.editCode;i(r,d),await n.replace({name:"edit",params:{room_code:r}})}catch(o){console.log(o)}finally{}}return(o,e)=>(f(),u("div",v,[e[1]||(e[1]=s("div",{class:"page-title",align:"center"},"Create a Room!",-1)),C(b,{modelValue:a,"onUpdate:modelValue":e[0]||(e[0]=t=>a=t)},null,8,["modelValue"]),s("div",{class:"create-row"},[s("button",{class:"join-button big-button",onClick:l}," Create Room ")])]))}},E=m(R,[["__scopeId","data-v-49c656b7"]]);export{E as default};
